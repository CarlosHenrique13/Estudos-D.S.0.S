; ===============================================
; KiddieOS - Keyboard Libary
; Created by Carlos
; Version 1.0.0
; ===============================================

%IFNDEF _KEYBOARD_LIB
%DEFINE _KEYBOARD_LIB

%DEFINE KEYBOARD_INSTALL 0x1400
%DEFINE KEYBOARD_HANDLER 0x1402

%DEFINE KEYBOARD_SECTOR 10
%DEFINE KEYBOARD_STATUS 0x64
%DEFINE KEYBOARD_DATA   0x60

%DEFINE KEYCODE 	3017h
%DEFINE BEGIN_CHAR  1
%DEFINE FINAL_CHAR  58

%MACRO __Keyboard_Drive_Load 2
	mov byte[Sector], KEYBOARD_SECTOR
	mov byte[Drive], 80h
	mov byte[NumSectors], 1
	mov word[SegmentAddr], %1
	mov word[OffsetAddr], %2
	call ReadDisk
%ENDMACRO 

DriverCommands db 0xF4, 0xED, '$'
CountKey	   dw 0000h

%ENDIF